import{g as f,N as d,a as _}from"./index-CngjlemS.js";async function c(i,n){try{const e=f(d.TABLES.FACEBOOK_CAMPAIGNS),o=_(),u=encodeURIComponent(`(user_id,eq,${i})~and(account_id,eq,${n})`),l=`${e}?where=${u}&limit=1000`,s=await fetch(l,{headers:o});if(!s.ok)return console.warn("getCampaignCatalog failed:",s.status),[];const a=await s.json();return a.list?a.list.map(t=>({id:t.id,name:t.name,status:t.status,effective_status:t.effective_status,daily_budget:t.daily_budget,lifetime_budget:t.lifetime_budget,issues_info:t.issues_info?JSON.parse(t.issues_info):void 0,is_deleted:t.is_deleted||!1})):[]}catch(e){return console.error("getCampaignCatalog error:",e),[]}}async function g(i,n){try{const e=f(d.TABLES.FACEBOOK_ADSETS),o=_(),u=encodeURIComponent(`(user_id,eq,${i})~and(account_id,eq,${n})`),l=`${e}?where=${u}&limit=1000`,s=await fetch(l,{headers:o});if(!s.ok)return console.warn("getAdsetCatalog failed:",s.status),[];const a=await s.json();return a.list?a.list.map(t=>({id:t.id,name:t.name,status:t.status,effective_status:t.effective_status,campaign_id:t.campaign_id,daily_budget:t.daily_budget,lifetime_budget:t.lifetime_budget,issues_info:t.issues_info?JSON.parse(t.issues_info):void 0,is_deleted:t.is_deleted||!1})):[]}catch(e){return console.error("getAdsetCatalog error:",e),[]}}async function m(i,n){try{const e=f(d.TABLES.FACEBOOK_ADS),o=_(),u=encodeURIComponent(`(user_id,eq,${i})~and(account_id,eq,${n})`),l=`${e}?where=${u}&limit=1000`,s=await fetch(l,{headers:o});if(!s.ok)return console.warn("getAdCatalog failed:",s.status),[];const a=await s.json();return a.list?a.list.map(t=>({id:t.id,name:t.name,status:t.status,effective_status:t.effective_status,adset_id:t.adset_id,issues_info:t.issues_info?JSON.parse(t.issues_info):void 0,is_deleted:t.is_deleted||!1})):[]}catch(e){return console.error("getAdCatalog error:",e),[]}}export{m as getAdCatalog,g as getAdsetCatalog,c as getCampaignCatalog};
